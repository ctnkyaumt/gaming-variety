<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gaming Variety Score</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        .title {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 20px;
        }

        .score-display {
            background: linear-gradient(45deg, #ff9a9e, #fecfef);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .score-number {
            font-size: 3rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .score-label {
            font-size: 1.2rem;
            color: #fff;
            margin-top: 10px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .game-item {
            background: #fff;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border: 2px solid transparent;
            cursor: pointer; /* makes the whole card appear clickable */
        }

        .game-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            border-color: #667eea;
        }

        .game-item.checked {
            background: linear-gradient(45deg, #a8edea, #fed6e3);
            border-color: #4ecdc4;
        }

        .game-checkbox {
            display: flex;
            align-items: center;
            user-select: none;
        }

        .game-checkbox input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            cursor: pointer;
            accent-color: #4ecdc4;
        }

        .game-checkbox label {
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            flex: 1;
            color: #333;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff9a9e, #fecfef, #4ecdc4);
            transition: width 0.5s ease;
            border-radius: 5px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .title {
                font-size: 2rem;
            }
            
            .games-grid {
                grid-template-columns: 1fr;
            }
            
            .stats {
                flex-direction: column;
                gap: 15px;
            }
        }

        .celebration {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            opacity: 0;
            pointer-events: none;
            transition: all 0.5s ease;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px 40px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            text-align: center;
            font-weight: bold;
            color: #333;
            animation-duration: 0.5s;
            animation-fill-mode: both;
        }

        .celebration.show {
            opacity: 1;
            animation-name: celebrationPop;
        }

        @keyframes celebrationPop {
            0% {
                transform: translate(-50%, -50%) scale(0.5) rotate(-10deg);
                opacity: 0;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.1) rotate(5deg);
            }
            100% {
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
                opacity: 1;
            }
        }
		
		.sticky-header {
			position: sticky;
			top: 0;
			background: #fff;
			z-index: 100;
			padding-top: 20px;
			padding-bottom: 10px;
			margin-bottom: 15px;    /* ‚Üê new: pushes the game grid down */
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
		}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">What is your VARIETY gamer score?</h1>
            <p class="subtitle">Which of these Video Game series did you play (at least 1 game of)? 1 point per box checked!</p>
        </div>

        <div class="sticky-header">
			<div class="score-display">
				<div class="score-number" id="score">0</div>
				<div class="score-label">out of 100</div>
			</div>

			<div class="progress-bar">
				<div class="progress-fill" id="progressFill" style="width: 0%"></div>
			</div>
		</div>


        <div class="games-grid" id="gamesGrid">
            <!-- Games will be populated by JavaScript -->
        </div>

        <div class="stats">
            <div class="stat-item">
                <div class="stat-number" id="checkedCount">0</div>
                <div class="stat-label">Games Played</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="percentage">0%</div>
                <div class="stat-label">Completion</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="remainingCount">100</div>
                <div class="stat-label">Remaining</div>
            </div>
        </div>
    </div>

    <div class="celebration" id="celebration">üéÆ‚ú®</div>

    <script>
        const games = [
            "Mario Bros.", "Final Fantasy", "Dragon Quest", "Mortal Kombat",
            "Legend of Zelda", "Pikmin", "Halo", "Megaman",
            "Pok√©mon", "Tales of...", "GTA", "Uncharted",
            "Warcraft", "Of Mana", "Diablo", "Tomb Raider",
            "The Elder Scrolls", "Metal Gear", "Assassin's Creed", "Portal",
            "Fallout", "God Of War", "Metroid", "Sonic the Hedgehog",
            "Doom", "Tetris", "Bioshock", "The Witcher",
            "Kingdom Hearts", "Red Dead Redemp.", "Mass Effect", "Half-Life",
            "Crash Bandicoot", "Street Fighter", "Star Fox", "Spyro the Dragon",
            "Donkey Kong", "Chrono Series", "Last of Us", "Dark Souls",
            "Tekken", "Rachet and Clank", "Fire Emblem", "Devil May Cry",
            "Borderlands", "Call of Duty", "Far Cry", "Silent Hill",
            "The Sims", "Age of Empires", "Resident Evil", "Hitman",
            "Dead Space", "Need for Speed", "Tony Hawk Pro.", "Dragon Age",
            "Animal Crossing", "Harvest Moon", "Gran Turismo", "Gears of War",
            "Fable", "Prince of Persia", "Rayman", "Banjo-Kazooie",
            "Contra", "Max Payne", "Castlevania", "Counter-Strike",
            "Team Fortress", "Ninja Gaiden", "Soul Calibur", "Worms",
            "Punch-Out", "Persona", "SMT", "Shadow Hearts",
            "Saints Row", "Bayonetta", "Yakuza", "Bomberman",
            "Jak and Daxter", "Medal of Honor", "Com. and Conq.", "Monster Hunter",
            "Guilty Gear", "Dead or Alive", "SaGa", "Shenmue",
            "Starcraft", "Deus Ex", "Total War", "Watch Dogs",
            "Nier", "Drakengard", "Phantasy Star", "Dishonored",
            "Warhammer", "Breath of Fire", "Parasite Eve", "Wild Arms"
        ];

        let score = 0;
		let celebrationQueue = [];
		let isCelebrating = false;
        const totalGames = games.length;

        function createGameItems() {
            const gamesGrid = document.getElementById('gamesGrid');
            
            games.forEach((game, index) => {
                const gameItem = document.createElement('div');
                gameItem.className = 'game-item';
                
                gameItem.innerHTML = `
                    <div class="game-checkbox">
                        <input type="checkbox" id="game-${index}">
                        <label for="game-${index}">${game}</label>
                    </div>
                `;
                
                // Append to grid
                gamesGrid.appendChild(gameItem);

                // Make the entire .game-item clickable
                const checkbox = gameItem.querySelector('input[type="checkbox"]');
                const label = gameItem.querySelector('label');

                // Prevent the card‚Äôs click handler from firing when clicking on the label
                label.addEventListener('click', function(e) {
                    e.stopPropagation();
                });

                // Toggle checkbox when anywhere on the card is clicked (excluding direct clicks on the native checkbox)
                gameItem.addEventListener('click', function(e) {
                    if (e.target !== checkbox) {
                        checkbox.checked = !checkbox.checked;
                        updateScore();
                    }
                });

                // Also update visual feedback if the user clicks directly on the checkbox
                checkbox.addEventListener('change', updateScore);
            });
        }

        function updateScore() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            const checkedBoxes = document.querySelectorAll('input[type="checkbox"]:checked');
            
            score = checkedBoxes.length;
            const percentage = Math.round((score / totalGames) * 100);
            
            // Update score display
            document.getElementById('score').textContent = score;
            document.getElementById('checkedCount').textContent = score;
            document.getElementById('percentage').textContent = percentage + '%';
            document.getElementById('remainingCount').textContent = totalGames - score;
            
            // Update progress bar
            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = percentage + '%';
            
            // Update visual feedback for checked items
            checkboxes.forEach((checkbox) => {
                const gameItem = checkbox.closest('.game-item');
                if (checkbox.checked) {
                    gameItem.classList.add('checked');
                } else {
                    gameItem.classList.remove('checked');
                }
            });
            
            // Show celebration for milestones
            if (score > 0 && score % 10 === 0) {
				const celebration = getCelebrationMessage(score);
				if (celebration) {
					celebrationQueue.push({
						message: celebration.message,
						duration: celebration.duration,
						isFinal: score === 100
					});
					processCelebrationQueue();
				}
			}
        }

        function getCelebrationMessage(score) {
			const celebrations = {
            10: { message: 'üéÆ Gaming Rookie!', duration: 2000 },
            20: { message: 'üïπÔ∏è Player Level Up!', duration: 2500 },
            30: { message: 'üéØ Arcade Master!', duration: 3000 },
            40: { message: 'üèÜ Console Champion!', duration: 3500 },
            50: { message: 'üåü Halfway Hero!', duration: 4000 },
            60: { message: 'üöÄ Gaming Veteran!', duration: 4500 },
            70: { message: 'üëë Elite Gamer!', duration: 5000 },
            80: { message: 'üî• Legendary Player!', duration: 5500 },
            90: { message: 'üíé Gaming God!', duration: 6000 },
            100: { message: 'üèÜüéÆ ULTIMATE GAMER! üéÆüèÜ', duration: 8000 }
			};
			return celebrations[score] || null;
		}

		// 3) Create a function to process the queue:
		function processCelebrationQueue() {
			if (isCelebrating || celebrationQueue.length === 0) return;

			const { message, duration, isFinal } = celebrationQueue.shift();
			isCelebrating = true;

			// Show the overlay
			const celebrationEl = document.getElementById('celebration');
			celebrationEl.textContent = message;
			celebrationEl.classList.add('show');

			// If this is the 100th celebration, also fire confetti:
			if (isFinal) {
				launchConfetti();
			}

			// After 'duration' ms, hide and then process next
			setTimeout(() => {
				celebrationEl.classList.remove('show');
				isCelebrating = false;
				// Give the CSS transition (0.5s) a moment to finish hiding
				setTimeout(() => {
					processCelebrationQueue();
				}, 500);
			}, duration);
		}
			
		// 6) Finally, add a simple confetti launcher. Insert this function anywhere below (still inside <script>):
		function launchConfetti() {
			// Create a full‚Äêscreen <canvas> to draw confetti
			const canvas = document.createElement('canvas');
			canvas.id = 'confettiCanvas';
			canvas.style.position = 'fixed';
			canvas.style.top = 0;
			canvas.style.left = 0;
			canvas.style.width = '100%';
			canvas.style.height = '100%';
			canvas.style.pointerEvents = 'none';
			canvas.style.zIndex = 999;
			document.body.appendChild(canvas);

			const ctx = canvas.getContext('2d');
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;

			const confettiPieces = [];
			const colors = ['#FFC107', '#FF3D00', '#4CAF50', '#2196F3', '#E91E63'];

			// Create 150 small rectangles with random positions, velocities, and colors
			for (let i = 0; i < 150; i++) {
				confettiPieces.push({
					x: Math.random() * canvas.width,
					y: Math.random() * canvas.height - canvas.height,
					w: 8 + Math.random() * 8,
					h: 4 + Math.random() * 4,
					vx: -2 + Math.random() * 4,
					vy: 2 + Math.random() * 6,
					color: colors[Math.floor(Math.random() * colors.length)],
					rot: Math.random() * 2 * Math.PI,
					rotSpeed: (-0.04 + Math.random() * 0.08)
				});
			}

			let animationFrame;
			function update() {
				ctx.clearRect(0, 0, canvas.width, canvas.height);
				confettiPieces.forEach((p) => {
					p.x += p.vx;
					p.y += p.vy;
					p.rot += p.rotSpeed;

					// Draw each piece as a rotated rectangle
					ctx.save();
					ctx.translate(p.x, p.y);
					ctx.rotate(p.rot);
					ctx.fillStyle = p.color;
					ctx.fillRect(-p.w / 2, -p.h / 2, p.w, p.h);
					ctx.restore();

					// Reset if it falls below the screen
					if (p.y > canvas.height) {
						p.y = -10;
						p.x = Math.random() * canvas.width;
					}
				});
				animationFrame = requestAnimationFrame(update);
			}

			// Start the animation
			update();

			// Stop and remove canvas after 7 seconds
			setTimeout(() => {
				cancelAnimationFrame(animationFrame);
				document.body.removeChild(canvas);
			}, 7000);
		}

		// Initialize the page
		document.addEventListener('DOMContentLoaded', function() {
			createGameItems();
			updateScore();
		});
    </script>
</body>
</html>
